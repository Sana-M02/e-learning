{% extends 'base_instructor.html' %}
{% load static %}

{% block content %}

<div class="container mt-4">

    <!-- Sidebar (if not already in base_instructor.html) -->

    <!-- Upcoming Sessions -->
    <div class="card mt-4 p-3 shadow-lg">
        <h4 class="fw-bold">Upcoming Sessions</h4>
        {% if upcoming_sessions %}
            <ul class="list-group">
                {% for session in upcoming_sessions %}
                    <li class="list-group-item">{{ session }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No upcoming sessions.</p>
        {% endif %}
    </div>

    <!-- Submitted Assignments -->
    <div class="mt-5">
        <h3>Submitted Assignments</h3>
        {% if submitted_assignments %}
            <ul class="list-group">
                {% for submission in submitted_assignments %}
                    <li class="list-group-item">
                        <strong>{{ submission.student.username }}</strong> submitted 
                        <em>{{ submission.assignment.title }}</em>
                        on {{ submission.submitted_at|date:"M d, Y H:i" }}
                        {% if submission.text_submission %}
                            <p><strong>Text:</strong> {{ submission.text_submission }}</p>
                        {% endif %}
                        {% if submission.link_submission %}
                            <p><strong>Link:</strong> <a href="{{ submission.link_submission }}">{{ submission.link_submission }}</a></p>
                        {% endif %}
                        {% if submission.file_submission %}
                            <p><strong>File:</strong> <a href="{{ submission.file_submission.url }}">Download</a></p>
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No assignments have been submitted yet.</p>
        {% endif %}
    </div>

    <div class="mt-3">
        <a href="{% url 'instructorApp:add_assignment' %}" class="btn btn-primary">âž• Add New Assignment</a>
    </div>

</div>

{% endblock %}
